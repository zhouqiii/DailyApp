(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["writevacationpage"],{"269c":function(t,e,a){},"884a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("nav-bar-top",{attrs:{title:"休假申请"}}),a("div",{staticClass:"home"},[a("div",{staticClass:"home_editBox"},[a("div",{staticClass:"home_editBox_time box_frame-row"},[a("div",{staticClass:"edit_date"},[a("van-field",{staticClass:"getTime",attrs:{"is-link":"",readonly:"",label:"休假类型:",placeholder:"请选择"},on:{click:function(e){t.pickVacationType=!0}},model:{value:t.vacationType,callback:function(e){t.vacationType=e},expression:"vacationType"}}),a("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.pickVacationType,callback:function(e){t.pickVacationType=e},expression:"pickVacationType"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:t.vacationSelects},on:{cancel:function(e){t.pickVacationType=!1},confirm:t.onConfirmVacation}})],1)],1)]),a("div",{staticClass:"ruleForm"},[a("div",{staticClass:"formItem"},[a("van-field",{attrs:{"is-link":"",readonly:"",label:"休假开始日期",placeholder:"请选择"},on:{click:function(e){t.startDatePop=!0}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),a("van-popup",{attrs:{position:"bottom"},model:{value:t.startDatePop,callback:function(e){t.startDatePop=e},expression:"startDatePop"}},[a("van-datetime-picker",{attrs:{type:"date","min-date":t.maxDate,title:" "},on:{cancel:function(e){t.startDatePop=!1},confirm:t.onConfirmStartDate},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1)],1),a("div",{staticClass:"formItem"},[a("van-field",{attrs:{"is-link":"",readonly:"",label:"休假结束日期",placeholder:"请选择"},on:{click:function(e){t.endDatePop=!0}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}}),a("van-popup",{attrs:{position:"bottom"},model:{value:t.endDatePop,callback:function(e){t.endDatePop=e},expression:"endDatePop"}},[a("van-datetime-picker",{attrs:{type:"date","min-date":t.maxDate,title:" "},on:{cancel:function(e){t.endDatePop=!1},confirm:t.onConfirmEndDate},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1)],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.ifOneDay,expression:"ifOneDay"}],staticClass:"ruleForm"},[a("div",{staticClass:"formItem"},[a("van-field",{attrs:{"is-link":"",readonly:"",label:"休假起始时间",placeholder:"请选择"},on:{click:function(e){t.startTimePop=!0}},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),a("van-popup",{attrs:{position:"bottom"},model:{value:t.startTimePop,callback:function(e){t.startTimePop=e},expression:"startTimePop"}},[a("van-datetime-picker",{attrs:{type:"time",title:" "},on:{cancel:function(e){t.startTimePop=!1},confirm:t.onConfirmStartTime}})],1)],1),a("div",{staticClass:"formItem"},[a("van-field",{attrs:{"is-link":"",readonly:"",label:"休假结束时间",placeholder:"请选择"},on:{click:function(e){t.endTimePop=!0}},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}}),a("van-popup",{attrs:{position:"bottom"},model:{value:t.endTimePop,callback:function(e){t.endTimePop=e},expression:"endTimePop"}},[a("van-datetime-picker",{attrs:{type:"time",title:" "},on:{cancel:function(e){t.endTimePop=!1},confirm:t.onConfirmEndTime}})],1)],1)]),a("div",{staticClass:"ruleForm textarea_box"},[a("div",{staticClass:"textarea_title"},[t._v("休假原因：")]),a("van-field",{staticClass:"textarea_reason",attrs:{rows:"2",label:"",type:"textarea",placeholder:"请输入原因"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1),a("div",{staticClass:"ruleForm"},[a("div",{staticClass:"formItem"},[a("van-field",{staticClass:"text_handover",attrs:{label:"工作交接：",placeholder:"请输入"},model:{value:t.handOver,callback:function(e){t.handOver=e},expression:"handOver"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.ifUpload,expression:"ifUpload"}],staticClass:"ruleForm"},[t._m(0),a("div",{staticClass:"imageItem"},[a("van-uploader",{attrs:{multiple:""},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}})],1)])])]),a("div",{staticClass:"submit_btn"},[a("div",{staticClass:"sendBtn",on:{click:t.submitData}},[t._v("提交申请")])])],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"formItem"},[a("div",{staticClass:"textarea_title box_frame-row"},[a("div",[t._v("图片上传")])])])}],o=(a("99af"),a("269c"),a("22ff")),s=a("8521"),c={name:"WriteExtention",data:function(){return{editList:[{id:0}],pickVacationType:!1,vacationType:"",Loop:"",startDate:"",startDatePop:!1,endDate:"",endDatePop:!1,startTime:"",endTime:"",endTimePop:!1,startTimePop:!1,ifOneDay:!1,reason:"",handOver:"",ifUpload:!1,imagePop:!1,iphonetype:"",maxDate:new Date,currentDate:new Date,daily:!1,vacationSelects:["年假","事假","婚假","产假","陪产假","病假","丧假","流产假"],fileList:[]}},methods:{onConfirmVacation:function(t,e){this.vacationType=t,this.pickVacationType=!1,e>1&&(this.ifUpload=!0)},onConfirmStartDate:function(t){this.startDatePop=!1,this.startDate="".concat(this.formatDate(t)),this.startDate===this.endDate?this.ifOneDay=!0:this.ifOneDay=!1},onConfirmEndDate:function(t){this.endDatePop=!1,this.endDate="".concat(this.formatDate(t)),this.startDate===this.endDate?this.ifOneDay=!0:this.ifOneDay=!1},onConfirmStartTime:function(t){this.startTimePop=!1,this.startTime=t},onConfirmEndTime:function(t){this.endTimePop=!1,this.endTime=t},formatDate:function(t){var e=t.getMonth()+1,a=t.getDate();return parseInt(e,10)<10&&(e="0".concat(e)),parseInt(a,10)<10&&(a="0".concat(a)),"".concat(t.getFullYear(),"-").concat(e,"-").concat(a)},submitData:function(){var t=[];Array.prototype.forEach.call(this.$refs.child,(function(e){var a={};a.taskId=parseInt(e.taskId,10),a.taskName=e.commision,a.projectId=e.projectId,a.projectName=e.projectTeam,a.workerInfo=e.workContent,a.startTime=e.startTime,a.endTime=e.endTime,t.push(a)})),this.$router.push({path:"/VacationEnd"})},sendData:function(t){var e=this;this.requestAxios({url:"",data:{workDate:this.startDate,dailyDetailList:t},method:"post"}).then((function(t){t.success?e.$router.push({path:"/ApplyEnd",query:{pageend:2}}):Object(o["a"])(s["a"],{},{content:'<div style="text-align:center">'.concat(t.message,'</div>\n                          <div style="text-align:center;margin-top:.5rem">请重新提交！</div>\n                          '),showBtn:!1})})).catch((function(){}))}},mounted:function(){}},r=c,l=a("2877"),d=Object(l["a"])(r,i,n,!1,null,null,null);e["default"]=d.exports}}]);